<!-- TODO: Remove when Chromatic updates Firefox -->
<script src="https://cdn.jsdelivr.net/npm/resize-observer-polyfill@1.5.1/dist/ResizeObserver.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/scoped-custom-element-registry@0.0.3/scoped-custom-element-registry.min.js"></script>

<link
  rel="preload"
  href="https://static.ithaka.org/pharos/assets/fonts/GT-America-Standard-Medium-Italic.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="https://static.ithaka.org/pharos/assets/fonts/GT-America-Standard-Medium.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="https://static.ithaka.org/pharos/assets/fonts/GT-America-Standard-Regular-Italic.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="https://static.ithaka.org/pharos/assets/fonts/GT-America-Standard-Regular.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="https://static.ithaka.org/pharos/assets/fonts/IvarHeadline-Italic.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="https://static.ithaka.org/pharos/assets/fonts/IvarHeadline-Medium.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="https://static.ithaka.org/pharos/assets/fonts/IvarHeadline-MediumItalic.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="https://static.ithaka.org/pharos/assets/fonts/IvarHeadline-Regular.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>

<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {
        pageLanguage: 'en',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
        autoDisplay: false,
      },
      'google_translate_element'
    );

    var googleTranslateWindow = document.getElementsByClassName('goog-te-menu-frame')[0],
      googleTranslateButton = document.getElementsByClassName('goog-te-gadget-simple')[0];
    googleTranslateWindow.contentDocument.addEventListener('keydown', function (event) {
      if (event.key === 'Escape' || event.key === 'Esc') {
        document.activeElement.blur();
        googleTranslateButton.focus();
        googleTranslateWindow.style.display = 'none';
      }
    });
  }
</script>
