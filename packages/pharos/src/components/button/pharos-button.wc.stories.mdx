import { Story, Canvas, Meta, ArgsTable } from '@storybook/addon-docs';
import { html } from 'lit';
import { ifDefined } from 'lit/directives/if-defined';
import { action } from '@storybook/addon-actions';
import { GuidelineLink } from '@config/GuidelineLink';

import './pharos-button';
import { iconNames } from '../../utils/iconNames';

import '../checkbox/pharos-checkbox';
import '../checkbox-group/pharos-checkbox-group';
import '../combobox/pharos-combobox';
import '../radio-button/pharos-radio-button';
import '../radio-group/pharos-radio-group';
import '../select/pharos-select';
import '../text-input/pharos-text-input';
import '../textarea/pharos-textarea';

<Meta
  title="Components/Button"
  parameters={{
    options: { selectedPanel: 'addon-controls' },
  }}
/>

export const Template = (args) =>
  html`
    <pharos-button
      ?disabled=${ifDefined(args.disabled)}
      variant=${ifDefined(args.variant)}
      type=${ifDefined(args.type)}
      icon=${ifDefined(args.icon)}
      icon-condensed=${ifDefined(args.iconCondensed)}
      icon-left=${ifDefined(args.iconLeft)}
      icon-right=${ifDefined(args.iconRight)}
      ?large=${ifDefined(args.large)}
      href=${ifDefined(args.href)}
      target=${ifDefined(args.target)}
      label=${ifDefined(args.label)}
      @click="${(e) => action('Click')(e.target)}"
    >
      ${args.text}
    </pharos-button>
  `;

# Button

<GuidelineLink path="button" />

<Canvas>
  <Story
    name="Base"
    argTypes={{
      variant: {
        options: ['primary', 'secondary', 'subtle'],
        control: {
          type: 'inline-radio',
        },
        defaultValue: 'primary',
      },
      type: {
        options: ['button', 'submit', 'reset'],
        control: {
          type: 'inline-radio',
        },
        defaultValue: 'button',
      },
      iconLeft: {
        options: iconNames,
        control: {
          type: 'select',
        },
      },
      iconRight: {
        options: iconNames,
        control: {
          type: 'select',
        },
      },
    }}
    args={{
      text: 'I am a button',
      disabled: false,
      large: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## API

<ArgsTable of="pharos-button" />

# Variants

<Canvas withToolbar>
  <Story name="Variants">
    {html`
      <div style="display: grid; grid-gap: 2rem; grid-template-columns: repeat(3, 200px);">
        <div style="padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="primary">Primary</pharos-button>
          <pharos-button name="secondary" variant="secondary">Secondary</pharos-button>
          <pharos-button name="subtle" variant="subtle">Subtle</pharos-button>
        </div>
        <div style="padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="primary-disabled" disabled>Primary</pharos-button>
          <pharos-button name="secondary-disabled" variant="secondary" disabled
            >Secondary</pharos-button
          >
          <pharos-button name="subtle-disabled" variant="subtle" disabled>Subtle</pharos-button>
        </div>
        <div style="background-color: #000000; padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="primary-on-background" on-background>Primary</pharos-button>
          <pharos-button name="secondary-on-background" variant="secondary" on-background
            >Secondary</pharos-button
          >
          <pharos-button name="subtle-on-background" variant="subtle" on-background
            >Subtle</pharos-button
          >
        </div>
      </div>
    `}
  </Story>
</Canvas>

# Large

<Canvas withToolbar>
  <Story name="Large">
    {html`
      <div style="display: grid; grid-gap: 2rem; grid-template-columns: repeat(3, 200px);">
        <div style="padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="large-primary" large>Primary</pharos-button>
          <pharos-button name="large-secondary" variant="secondary" large>Secondary</pharos-button>
          <pharos-button name="large-subtle" variant="subtle" large>Subtle</pharos-button>
        </div>
        <div style="padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="large-primary-disabled" large disabled>Primary</pharos-button>
          <pharos-button name="large-secondary-disabled" variant="secondary" large disabled
            >Secondary</pharos-button
          >
          <pharos-button name="large-subtle-disabled" variant="subtle" large disabled
            >Subtle</pharos-button
          >
        </div>
        <div style="background-color: #000000; padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="large-primary-on-background" large on-background
            >Primary</pharos-button
          >
          <pharos-button
            name="large-secondary-on-background"
            variant="secondary"
            large
            on-background
            >Secondary</pharos-button
          >
          <pharos-button name="large-subtle-on-background" variant="subtle" large on-background
            >Subtle</pharos-button
          >
        </div>
      </div>
    `}
  </Story>
</Canvas>

# With Icons

<Canvas withToolbar>
  <Story name="With Icons">
    {html`
      <div style="display: grid; grid-gap: 2rem; grid-template-columns: repeat(3, 200px);">
        <div style="padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="primary-icon-left" icon-left="download">Icon left</pharos-button>
          <pharos-button name="primary-icon-right" icon-right="chevron-down"
            >Icon right</pharos-button
          >
          <pharos-button name="primary-icon-both" icon-right="chevron-down" icon-left="view-gallery"
            >Icon both</pharos-button
          >
        </div>
        <div style="padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="primary-icon-left-disabled" icon-left="download" disabled
            >Icon left</pharos-button
          >
          <pharos-button name="primary-icon-right-disabled" icon-right="chevron-down" disabled
            >Icon right</pharos-button
          >
          <pharos-button
            name="primary-icon-both-disabled"
            icon-right="chevron-down"
            icon-left="view-gallery"
            disabled
            >Icon both</pharos-button
          >
        </div>
        <div style="background-color: #000000; padding: 1rem; display: grid; grid-gap: 1.5rem;">
          <pharos-button name="primary-icon-left-on-background" icon-left="download" on-background
            >Icon left</pharos-button
          >
          <pharos-button
            name="primary-icon-right-on-background"
            icon-right="chevron-down"
            on-background
            >Icon right</pharos-button
          >
          <pharos-button
            name="primary-icon-both-on-background"
            icon-right="chevron-down"
            icon-left="view-gallery"
            on-background
            >Icon both</pharos-button
          >
        </div>
      </div>
    `}
  </Story>
</Canvas>

# Icon only

<Canvas>
  <Story
    name="Icon only"
    argTypes={{
      variant: {
        options: ['primary', 'secondary', 'subtle'],
        control: {
          type: 'inline-radio',
        },
        defaultValue: 'subtle',
      },
      type: {
        options: ['button', 'submit', 'reset'],
        control: {
          type: 'inline-radio',
        },
        defaultValue: 'button',
      },
      icon: {
        options: iconNames,
        control: {
          type: 'select',
        },
      },
    }}
    args={{
      icon: 'download',
      disabled: false,
      large: false,
      label: 'download',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

# Icon only (condensed)

<Canvas>
  <Story
    name="Icon only (condensed)"
    argTypes={{
      variant: {
        options: ['primary', 'secondary', 'subtle'],
        control: {
          type: 'inline-radio',
        },
        defaultValue: 'subtle',
      },
      type: {
        options: ['button', 'submit', 'reset'],
        control: {
          type: 'inline-radio',
        },
        defaultValue: 'button',
      },
    }}
    args={{
      icon: 'download',
      iconCondensed: true,
      disabled: false,
      large: false,
      label: 'download',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

# Link

<Canvas>
  <Story
    name="Link"
    argTypes={{
      variant: {
        options: ['primary', 'secondary', 'subtle'],
        control: {
          type: 'inline-radio',
        },
        defaultValue: 'primary',
      },
      type: {
        options: ['button', 'submit', 'reset'],
        control: {
          type: 'inline-radio',
        },
        defaultValue: 'button',
      },
      iconLeft: {
        options: iconNames,
        control: {
          type: 'select',
        },
      },
      iconRight: {
        options: iconNames,
        control: {
          type: 'select',
        },
      },
    }}
    args={{
      text: 'I am a button',
      disabled: false,
      large: false,
      href: 'https://google.com',
      target: '_blank',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

# Forms

<Canvas withToolbar>
  <Story name="Forms">
    {() => {
      return html`
        <div style="display: grid; grid-gap: 1rem; grid-template-columns: 300px;">
          <form name="my-form" action="https://httpbin.org/post" method="POST">
            <pharos-text-input name="my-text-input" required>
              <span slot="label">Name</span>
            </pharos-text-input>
            <pharos-select name="my-select" required style="margin-top: 1.5rem">
              <span slot="label">Role</span>
              <option value="1">Student</option>
              <option value="2">Teacher</option>
              <option value="3" selected>Librarian</option>
            </pharos-select>
            <pharos-combobox name="my-combobox" value="2" required style="margin-top: 1.5rem">
              <span slot="label">State</span>
              <option value="1">New York</option>
              <option value="2">Michigan</option>
              <option value="3">New Jersey</option>
            </pharos-combobox>
            <pharos-radio-group name="my-radio-group" style="margin-top: 1.5rem">
              <span slot="legend">Degree</span>
              <pharos-radio-button value="1"
                ><span slot="label">Undergraduate</span></pharos-radio-button
              >
              <pharos-radio-button value="2"
                ><span slot="label">Graduate</span></pharos-radio-button
              >
            </pharos-radio-group>
            <pharos-checkbox-group name="my-checkbox-group" style="margin-top: 1.5rem">
              <span slot="legend">Preferences</span>
              <pharos-checkbox value="1"
                ><span slot="label">Send me promotions and discounts</span></pharos-checkbox
              >
              <pharos-checkbox value="2" checked
                ><span slot="label">Send me weekly updates</span></pharos-checkbox
              >
            </pharos-checkbox-group>
            <pharos-textarea name="comments" style="margin-top: 1.5rem">
              <span slot="label">Comments</span>
            </pharos-textarea>
            <pharos-button type="reset" variant="secondary" style="margin-top: 1.5rem"
              >Reset</pharos-button
            >
            <pharos-button type="submit" style="margin-top: 1.5rem">Submit</pharos-button>
          </form>
        </div>
      `;
    }}
  </Story>
</Canvas>
