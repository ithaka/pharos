import PageSection from '@components/statics/PageSection.tsx';
import BestPractices from '@components/statics/BestPractices.tsx';

<PageSection
  isHeader
  storyBookType="components"
  title="Toast"
  description="Toasts are non-disruptive messages that appear at the top right corner of the UI to provide
    quick, at-a-glance feedback on the outcome of an action."
></PageSection>

## Examples

```jsx live
<Fragment>
  <PharosButton
    onClick={() => {
      const event = new CustomEvent('pharos-toast-open', {
        detail: {
          content: 'Hi there!',
        },
      });
      document.dispatchEvent(event);
    }}
  >
    Have a toast!
  </PharosButton>
  <PharosToaster></PharosToaster>
</Fragment>
```

<PageSection topMargin title="Usage">
  <p>
    Use toasts to show a confirmation of non-critical actions from the user. For example, you might
    show a toast to inform the user that their recent action of saving an item to the workspace was
    successful.
  </p>
</PageSection>

<PageSection title="Best practices">
  <BestPractices
    Do={
      <ul>
        <li>
          Use for short messages to confirm an action as feedback to the user. For example, you
          might show a toast message to inform a user that their recent action was successful
        </li>
        <li>
          Toasts should be concise, scannable and informativeâ€”users shouldn't need to spend a lot of
          time figuring out which action they just took and where they could go next (e.g., iew in
          workspace)
        </li>
        <li>States: Can be used specifically for success and error messages</li>
        <li>
          Display toasts one at a time, the newest toasts should appear above the most recently
          displayed toasts
        </li>
        <li>Toasts should always be dismissible (the "x" in the top right corner)</li>
        <li>Use appropriate punctuation; each message should end in a "."</li>
      </ul>
    }
    Dont={
      <ul>
        <li>Not to be used for marketing information or in-app feature messages</li>
        <li>
          Not to be used for system errors, outages, etc. Use an alert or banner for these needs.
        </li>
      </ul>
    }
  />
</PageSection>

<PageSection title="Content guidelines">
  <PageSection subSectionLevel={1} title="Toast messages">
    <PageSection subSectionLevel={2} title="Success">
      <p>
        Toast messages are simple, concise and human-sounding. The message informs the user of the
        outcome of an action.
      </p>
      <p>They should be written in a noun + verb form.</p>
      <ul className="list-example__no-bullets">
        <li style={{ display: 'flex' }}>
          "The item (noun) was saved (verb) to Martin Luther King Research"
        </li>
      </ul>
      <p>Toast messages should be human sounding, and not as system-centric:</p>
      <ul className="list-example__no-bullets">
        <li style={{ display: 'flex', color: 'var(--pharos-color-green-base)' }}>
          <PharosIcon
            name={'checkmark'}
            class="checkmark"
            style={{
              marginRight: 'var(--pharos-spacing-one-half-x)',
              fill: 'var(--pharos-color-green-base)',
            }}
            a11yTitle="good example"
          ></PharosIcon>"The item was saved to Martin Luther King Research."
        </li>
        <li style={{ display: 'flex', color: 'var(--pharos-color-living-coral-53)' }}>
          <PharosIcon
            name={'close'}
            class="close"
            style={{
              marginRight: 'var(--pharos-spacing-one-half-x',
              fill: 'var(--pharos-color-living-coral-53)',
            }}
            a11yTitle="bad example"
          ></PharosIcon>"Item saved to Martin Luther King Research."
        </li>
      </ul>
      <p>
        Avoid unnecessary terms, for example, don't use "successfully" in banners that confirm an
        action has been completed, the success toast variant will suffice.
      </p>
    </PageSection>
    <PageSection subSectionLevel={2} title="Error">
      <p>
        When a user experiences an error, it should include an actionable step that the user can
        take on their own or seek help from support.
      </p>
    </PageSection>
  </PageSection>
</PageSection>

<PageSection title="State">
  <PharosToast open>I am a success toast</PharosToast>
  <PharosToast status="error" open>
    I am an error toast
  </PharosToast>
</PageSection>

<PageSection title="Accessibility">
  <PageSection subSectionLevel={1} title="Relevant WCAG guidelines">
    <ul>
      <li>
        <PharosLink href="https://www.w3.org/WAI/WCAG21/Understanding/consistent-identification.html">
          3.2.4 Consistent Identification
        </PharosLink>
      </li>
      <li>
        <PharosLink href="https://www.w3.org/WAI/WCAG21/Understanding/content-on-hover-or-focus.html">
          1.4.13 Content on Hover or Focus AA
        </PharosLink>
      </li>
    </ul>
  </PageSection>
  <PageSection subSectionLevel={1} title="Importance">
    <p>Allows the user to receive a quick notification</p>
  </PageSection>
  <PageSection subSectionLevel={1} title="Visual expectations">
    <ul>
      <li>Toast notification should always appear in the same location on the screen</li>
      <li>
        Notifications should appear for at least 5 seconds
        <ul>
          <li>This time should be increased by 1 second for every 120 words</li>
        </ul>
      </li>
    </ul>
  </PageSection>
  <PageSection subSectionLevel={1} title="Code expectations">
    <ul>
      <li>
        Toasts should be wrapped in aria-live-region and have <code>role="alert"</code>, having both
        maximizes cross-browser compatibility and assistive technology pairings
      </li>
      <li>When focus is on the toast, pause the timer</li>
    </ul>
  </PageSection>
  <PageSection subSectionLevel={1} title="Expected actions">
    <PageSection subSectionLevel={2} title="Screen reader">
      <p>Reads the notification as soon as it appears on screen</p>
    </PageSection>
    <PageSection subSectionLevel={2} title="Keyboard">
      <ul>
        <li>
          Toast gets added into the focus order.
          <ul>
            <li>
              When toast is open, the first tab goes to first the first intractable element in the
              toast notification
            </li>
            <li>
              After it is closed, focus will be placed on the element after the one that triggered
              the toast
            </li>
          </ul>
        </li>
      </ul>
    </PageSection>
  </PageSection>
</PageSection>
