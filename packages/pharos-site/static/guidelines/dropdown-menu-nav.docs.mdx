# Dropdown Menu Nav

import PageSection from '../../src/components/statics/PageSection.tsx';
import BestPractices from '../../src/components/statics/BestPractices.tsx';

<div style={{ marginBottom: 'var(--pharos-spacing-5-x)' }}>
  <p style={{ fontSize: 'var(--pharos-type-scale-6)', lineHeight: '2rem' }}>
    The dropdown menu nav provides users an overview of your site's page hierarchy.
  </p>
  <PharosLink href="#" target="_blank">
    See in Storybook
  </PharosLink>
</div>

## Usage

<div style={{ marginBottom: 'var(--pharos-spacing-3-x)' }}>
  <p>
    Dropdown menu navs include a list of links that move users between sections of the application.
  </p>
</div>

<PageSection title="Best Practices">
  <BestPractices
    Do={
      <ul>
        <li>Ensure all links and menu items navigate to a URL</li>
        <li>
          Group navigation menu items together in a Pharos dropdown menu based on related categories
        </li>
      </ul>
    }
    Dont={
      <ul>
        <li>Open links in the nav from a new browser tab</li>
        <li>Include links that navigate the user to a different site</li>
      </ul>
    }
  />
</PageSection>

<div style={{ marginBottom: 'var(--pharos-spacing-3-x)' }}>
  <PharosHeading level={'2'} preset={'6'} style={{ marginBottom: 'var(--pharos-spacing-1-x)' }}>
    Content guidelines
  </PharosHeading>
  <p>
    The navigation menu acts as a table of contents for your site. The content of links should
    reflect this hierarchy. The primary links representing main sections of the site should first be
    listed. If applicable, add submenus to links with additional related sections with a list of
    links pertaining to that group.
  </p>
</div>

<PharosHeading level={'2'} preset={'6'} style={{ marginBottom: 'var(--pharos-spacing-1-x)' }}>
  Accessibility
</PharosHeading>

<div style={{ marginBottom: 'var(--pharos-spacing-3-x)' }}>
  <div style={{ marginBottom: 'var(--pharos-spacing-1-x)' }}>
    <PharosLink href="https://www.w3.org/WAI/tutorials/menus/flyout/">W3 Dropdown Menus</PharosLink>
  </div>
  <PharosHeading level={'3'} preset={'2'}>
    Relevant WCAG Guidelines
  </PharosHeading>
  <ul style={{ marginBottom: 'var(--pharos-spacing-1-x)' }}>
    <li>
      <PharosLink href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html">
        1.3.1 Info and Relationships A
      </PharosLink>
    </li>
    <li>
      <PharosLink href="https://www.w3.org/WAI/WCAG21/Understanding/consistent-navigation">
        3.2.3 Consistent Navigation AA
      </PharosLink>
    </li>
    <li>
      <PharosLink href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard">
        2.1.1 Keyboard
      </PharosLink>
    </li>
  </ul>
</div>
<div style={{ marginBottom: 'var(--pharos-spacing-3-x)' }}>
  <PharosHeading level={'3'} preset={'2'}>
    Importance
  </PharosHeading>
  Dropdowns all users to better understand how menu items are related based on their grouping
</div>
<div style={{ marginBottom: 'var(--pharos-spacing-3-x)' }}>
  <PharosHeading level={'3'} preset={'2'}>
    Visual expectations
  </PharosHeading>
  Dropdowns include some indication that they are expandable/interactable
</div>
<div style={{ marginBottom: 'var(--pharos-spacing-3-x)' }}>
  <PharosHeading level={'3'} preset={'2'}>
    Code expectations
  </PharosHeading>
  <ul>
    <li>Dropdown list item has aria-haspopup="true" and aria-expanded="false"</li>
    <li>There is another list within the dropdown that contains all its child elements</li>
  </ul>
</div>

```html
<nav role="navigation" aria-label="global">
  <ul>
    <li><a href="...">Advanced Search</a></li>
    <li class="...">
      <a href="..." aria-haspopup="true" aria-expanded="false">Browse</a>
      <ul>
        <li><a href="...">By Subject</a></li>
        <li><a href="...">By Title</a></li>
        <li><a href="...">By Collections</a></li>
        <li><a href="...">By Publisher</a></li>
      </ul>
    </li>
  </ul>
</nav>
```

<div>
  <PharosHeading level={'3'} preset={'2'}>
    Expected actions
  </PharosHeading>
  <div style={{ marginBottom: 'var(--pharos-spacing-1-x)' }}>
    <PharosHeading level={'4'} preset={'1--bold'}>
      Screen reader
    </PharosHeading>
    Reads "dropdown name, collapsed, menu item"
  </div>
  <PharosHeading level={'4'} preset={'1--bold'}>
    Keyboard
  </PharosHeading>
  <ul>
    <li>
      <kbd>Tab</kbd> moves focus onto the dropdown. When dropdown is expanded, focus will go to next
      menu item
    </li>
    <li>
      <kbd>Shift</kbd>+<kbd>Tab</kbd> When dropdown is expanded, moves focus to the previous menu
      item
    </li>
    <li>
      <kbd>Enter</kbd> opens dropdown, interacts with selection when focus is on a menu item
    </li>
    <li>
      <kbd>←</kbd> / <kbd>→</kbd> moves focus left and right if there is more than one dropdown
      (such as the global navigation on JSTOR)
    </li>
    <li>
      <kbd>↑</kbd> / <kbd>↓</kbd> moves focus up and down when the dropdown is expanded
    </li>
    <li>
      <kbd>↓</kbd> can also be used to expand a dropdown
    </li>
  </ul>
</div>
